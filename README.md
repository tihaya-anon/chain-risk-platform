# Chain Risk Platform

> å¤šè¯­è¨€å¾®æœåŠ¡æ¶æ„çš„é“¾ä¸Šé£é™©åˆ†æç³»ç»Ÿ

[![Go](https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat&logo=go)](https://golang.org/)
[![Java](https://img.shields.io/badge/Java-17+-ED8B00?style=flat&logo=openjdk)](https://openjdk.org/)
[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?style=flat&logo=python)](https://python.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?style=flat&logo=typescript)](https://typescriptlang.org/)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

ä¸€ä¸ªç”¨äºé“¾ä¸Šäº¤æ˜“æ•°æ®åˆ†æå’Œåœ°å€é£é™©è¯„ä¼°çš„å¾®æœåŠ¡å¹³å°ï¼Œæ”¯æŒï¼š

- **å®æ—¶æ•°æ®æµå¤„ç†**: é“¾ä¸Šäº¤æ˜“ â†’ Transfer è§£æ
- **é£é™©è¯„åˆ†**: åŸºäºè§„åˆ™å¼•æ“ + ML æ¨¡å‹
- **åœ°å€èšç±»**: å®ä½“è¯†åˆ«å’Œ Tag Propagation
- **å‘Šè­¦ç³»ç»Ÿ**: å¼‚å¸¸äº¤æ˜“å®æ—¶å‘Šè­¦

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React/TypeScript)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Orchestrator (Java/Spring Cloud Gateway)            â”‚
â”‚          JWTè®¤è¯ / è·¯ç”± / é™æµ / ç†”æ–­ / APIç¼–æ’                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ X-User-Id/Username/Role
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BFF Layer (TypeScript/Nest.js)                 â”‚
â”‚                    ä¸šåŠ¡èšåˆ / æ•°æ®è½¬æ¢ / ä¿¡ä»»Gateway                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Query Service      â”‚ â”‚ Risk Service  â”‚ â”‚      Alert Service      â”‚
â”‚        (Go)           â”‚ â”‚   (Python)    â”‚ â”‚          (Go)           â”‚
â”‚      Gin + GORM       â”‚ â”‚   FastAPI     â”‚ â”‚          Gin            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦ç»†æ¶æ„è¯·å‚è€ƒ [PROJECT_OVERVIEW.md](./docs/PROJECT_OVERVIEW.md)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§             | æŠ€æœ¯                                     |
| ---------------- | ---------------------------------------- |
| **Frontend**     | React, TypeScript, Vite                  |
| **Orchestrator** | Java, Spring Cloud Gateway, Resilience4j |
| **BFF**          | Nest.js, TypeScript                      |
| **Services**     | Go (Gin), Python (FastAPI)               |
| **Processing**   | Apache Flink, Kafka                      |
| **Storage**      | PostgreSQL, Neo4j, Redis                 |
| **Infra**        | Docker, Kubernetes                       |

## ğŸ“ é¡¹ç›®ç»“æ„

```
chain-risk-platform/
â”œâ”€â”€ services/           # å¾®æœåŠ¡
â”‚   â”œâ”€â”€ orchestrator/   # Java/Spring Cloud Gateway - APIç½‘å…³+ç¼–æ’
â”‚   â”œâ”€â”€ bff/            # TypeScript/Nest.js - ä¸šåŠ¡èšåˆå±‚
â”‚   â”œâ”€â”€ query-service/  # Go/Gin - æŸ¥è¯¢æœåŠ¡
â”‚   â”œâ”€â”€ alert-service/  # Go/Gin - å‘Šè­¦æœåŠ¡
â”‚   â””â”€â”€ risk-ml-service/# Python/FastAPI - é£é™©è¯„åˆ†æœåŠ¡
â”œâ”€â”€ processing/         # æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ stream-processor/   # Java/Flink
â”‚   â”œâ”€â”€ batch-processor/    # Java/Flink SQL
â”‚   â””â”€â”€ graph-engine/       # Java
â”œâ”€â”€ data-ingestion/     # Go - æ•°æ®é‡‡é›†
â”œâ”€â”€ frontend/           # React
â”œâ”€â”€ infra/              # åŸºç¡€è®¾æ–½é…ç½®
â””â”€â”€ docs/               # æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker & Docker Compose
- Go 1.21+
- Java 17+
- Python 3.11+
- Node.js 18+

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/0ksks/chain-risk-platform.git
cd chain-risk-platform

# 2. å¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose up -d

# 3. å¯åŠ¨å„æœåŠ¡ (å‚è€ƒå„æœåŠ¡ç›®å½•çš„ README)
```

### æœåŠ¡ç«¯å£

| æœåŠ¡            | ç«¯å£ |
| --------------- | ---- |
| Orchestrator    | 8080 |
| BFF             | 3001 |
| Query Service   | 8081 |
| Risk ML Service | 8082 |
| Alert Service   | 8083 |
| Frontend        | 5173 |
| PostgreSQL      | 5432 |
| Redis           | 6379 |
| Kafka           | 9092 |

## ğŸ“š æ–‡æ¡£

### é¡¹ç›®æ–‡æ¡£
- [é¡¹ç›®æ€»è§ˆ](./docs/PROJECT_OVERVIEW.md)
- [å¼€å‘è®¡åˆ’](./docs/DEVELOPMENT_PLAN.md)
- [æŠ€æœ¯å†³ç­–](./docs/TECH_DECISIONS.md)

### è„šæœ¬å’Œå·¥å…·
- [ğŸ“– Scripts ä½¿ç”¨æŒ‡å—](./scripts/README.md) - å®Œæ•´çš„è„šæœ¬ä½¿ç”¨æ–‡æ¡£
- [ğŸš€ å¿«é€Ÿå‚è€ƒ](./docs/SCRIPTS_QUICK_REFERENCE.md) - å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
- [ğŸ“Š æ•´ç†å¯¹æ¯”](./docs/SCRIPTS_COMPARISON.md) - è„šæœ¬æ•´ç†å‰åå¯¹æ¯”
- [ğŸ“ æ•´ç†æ€»ç»“](./docs/SCRIPTS_REFACTORING.md) - é‡æ„è¯´æ˜
- [ğŸ“‹ æ›´æ–°æ—¥å¿—](./docs/CHANGELOG_SCRIPTS.md) - è„šæœ¬å˜æ›´è®°å½•

### Makefile å‘½ä»¤

æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤ï¼š
```bash
make help
```

å¸¸ç”¨å‘½ä»¤ï¼š
```bash
# åŸºç¡€è®¾æ–½
make infra-up          # å¯åŠ¨åŸºç¡€è®¾æ–½
make infra-check       # æ£€æŸ¥åŸºç¡€è®¾æ–½çŠ¶æ€

# æœåŠ¡ç®¡ç†
make run-svc           # å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåå°ï¼‰
make stop-svc          # åœæ­¢æ‰€æœ‰æœåŠ¡
make logs-all          # æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—

# æ„å»ºå’Œæµ‹è¯•
make init-all          # åˆå§‹åŒ–æ‰€æœ‰æœåŠ¡
make build-all         # æ„å»ºæ‰€æœ‰æœåŠ¡
make test-all          # è¿è¡Œæ‰€æœ‰æµ‹è¯•
```

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [Scripts å¿«é€Ÿå‚è€ƒ](./docs/SCRIPTS_QUICK_REFERENCE.md)

## ğŸ—ºï¸ Roadmap

- [x] é¡¹ç›®è§„åˆ’å’Œæ–‡æ¡£
- [x] Phase 1: æ ¸å¿ƒæ•°æ®æµ
- [x] Phase 2: æŸ¥è¯¢ä¸é£é™©æœåŠ¡ (åŸºç¡€åŠŸèƒ½)
- [x] Phase 3: BFF ä¸å‰ç«¯ (åŸºç¡€åŠŸèƒ½)
- [ ] Phase 2/3: åŠŸèƒ½å®Œå–„ä¸æµ‹è¯•
- [ ] Phase 4: é«˜çº§åŠŸèƒ½

## ğŸ“„ License

MIT License
